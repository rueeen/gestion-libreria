<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous" />
    <!-- Bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />
    <!-- Notyf -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css" />
    <title>Document</title>
    <!-- VanillaDatatables -->
    <link href="https://unpkg.com/vanilla-datatables@latest/dist/vanilla-dataTables.min.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <header class="container">
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a href="{% url 'home' %}" class="nav-link">Home</a>
            </li>
            {% if user.is_authenticated %}
              <li class="nav-item">
                <a href="{% url 'libro-list' %}" class="nav-link">Libros</a>
              </li>
              {% if request.user.perfilusuario.rol.nombre == "Bibliotecario" %}
                <li class="nav-item">
                  <a href="{% url 'categoria-list' %}" class="nav-link">Categorias</a>
                </li>
              {% endif %}
            {% endif %}
          </ul>
          <ul class="navbar-nav">
            {% if user.is_authenticated %}
              <li class="nav-item">
                <a href="{% url 'logout' %}" class="nav-link">Cerrar sesion</a>
              </li>
            {% else %}
              <li class="nav-item">
                <a href="{% url 'login' %}" class="nav-link">Login</a>
              </li>
            {% endif %}
          </ul>
        </div>
      </nav>
    </header>
    <main class="container">
      <!-- Template tags -->
      {% block content %}
        <h1>Welcome</h1>
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Placeat quasi, nobis hic suscipit unde reiciendis ea non quisquam natus iure optio quaerat dolor nostrum consequatur laborum obcaecati cumque? Ipsum, porro?</p>
      {% endblock %}
    </main>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <!-- VanillaDatatables -->
    <script src="https://unpkg.com/vanilla-datatables@latest/dist/vanilla-dataTables.min.js" type="text/javascript"></script>
    <!-- Notyf -->
    <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
    <script>
      {% if messages %}
        const notyf = new Notyf({
          duration: 3000,
          position: { x: "center", y: "bottom" }
        });

        {% for message in messages %}
          {% if message.tags == 'success' %}
            notyf.success("{{message|escapejs}}")
          {% elif message.tags == 'error' %}
            notyf.error("{{ message|escapejs }}");
          {% elif message.tags == 'warning' %}
            notyf.open({ type: 'warning', message: "{{ message|escapejs }}" });
          {% else %}
            notyf.open({ type: 'info', message: "{{ message|escapejs }}" });
          {% endif %}
        {% endfor %}
      {% endif %}
    </script>
  </body>
</html>
